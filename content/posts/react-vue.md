---
title: "vue和react在开发中的区别"
date: "2024-05-29"
---
## vue和react在开发中的区别
### 一. diff 算法
react 是 Fiber 架构的，Fiber 其实是一个链表的结构，但是由于没有设置反向指针，因此没有使用双端比对的方式去优化 Diff 算法（没有反向指针，从右往左遍历链表会很困难）
Vue 采用了响应式数据，响应式数据可以细粒度地实现更新，即可以实现仅更新绑定了变更数据的那部分视图
Vue2 采用了双端 Diff 算法，算法流程主要是：
1. 对比头头、尾尾、头尾、尾头是否可以复用，如果可以复用，就进行节点的更新或移动操作。
2. 如果经过四个端点的比较，都没有可复用的节点，则将就的子序列保存为节点 key 为 key ，index 为 value 的 map 。
3. 拿新的一组子节点的头部节点去 map 中查找，如果找到可复用的节点，则将相应的节点进行更新，并将其移动到头部，然后头部指针右移。
4. 然而，拿新的一组子节点中的头部节点去旧的一组子节点中寻找可复用的节点，并非总能找到，这说明这个新的头部节点是新增节点，只需要将其挂载到头部即可。
5. 经过上述处理，最后还剩下新的节点就批量新增，剩下旧的节点就批量删除。
Vue3 的 Diff 算法借鉴了字符串比对时的双端比对方式，即优先处理可复用的前置元素和后置元素。

#### 总结
通过 React 源码和 Vue 源码的对比学习，发现 React 源码比 Vue 源码难懂很多，个人觉得是由于 React 采用了 Fiber 架构造成的，Fiber 是一个链表结构，子节点之间通过 sibling 指针连接，没有 Vue 直接用数组来得那么简单直接。
Vue2 、Vue3 都采用了双端比对的方式来加速 Diff 算法，而 React 采用了单链表的数据结构来存储 Fiber 节点，导致其使用双端比对的方式来优化 Diff 算法变得困难，所以 React 没有采用双端比对的方式来优化，相比 Vue2 ，Vue3 采用了最长递增子序列更进一步地提升了 Diff 算法的性能。

### 二、模板语法和jsx

### 三、组件通信方式
在 Vue 中，组件间的通信可以使用 props（父子组件通信）、emit（子父组件通信）、attrs/$listeners（特性和事件继承）、Vuex/Pinia（用于大型应用中的状态管理）等。
在 React 中，组件间的通信主要依赖于 props 和 context，但对于更复杂的应用，可以使用 Redux 或其他状态管理库
### 四、生命周期

Vue 组件有自己的生命周期钩子，如 created、mounted、updated、destroyed 等，用于在组件生命周期的不同阶段执行代码。
React 组件也有生命周期方法，如 componentDidMount、componentDidUpdate、componentWillUnmount 等，但在 React 16.3 版本后，一些生命周期方法已被标记为过时，推荐使用新的生命周期方法或 React Hooks。
### 五、不同的页面更新的通知方式
Vue在进行数据更改以后，会主动向使用者声明更改信息。
React需要通过diff算法计算得知数据变化。

### 六、状态管理工具
vue中会用vuex和pinia
react没有官方是状态管理工具一般是用redux